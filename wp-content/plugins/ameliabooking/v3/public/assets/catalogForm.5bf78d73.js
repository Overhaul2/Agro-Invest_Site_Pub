var Jt=Object.defineProperty;var It=Object.getOwnPropertySymbols;var Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var Tt=(y,g,_)=>g in y?Jt(y,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):y[g]=_,He=(y,g)=>{for(var _ in g||(g={}))Gt.call(g,_)&&Tt(y,_,g[_]);if(It)for(var _ of It(g))Qt.call(g,_)&&Tt(y,_,g[_]);return y};import{o as a,c as i,n as B,d as wt,a as W,w as A,b as Se,t as n,u as e,_ as Le,i as P,e as k,f as ee,g as t,F as te,r as pe,h as p,j as ve,k as b,l as Ce,m as Ee,p as lt,q as nt,s as We,v as Ue,x as Ke,I as Xt,y as at,z as St,A as ye,B as pt,C as me,D as Yt,E as bt,T as Re,G as ot,H as it,J as kt,K as ct,L as _t,M as X,N as Xe,O as rt,P as we,Q as Zt,R as Kt,S as ea,U as ta,V as aa,W as ia,X as sa,Y as la,Z as na,$ as oa,a0 as ca,a1 as ra,a2 as ua,a3 as da,a4 as ma,a5 as pa,a6 as _a,a7 as va,a8 as fa,a9 as ga,aa as Ft,ab as ya,ac as ha,ad as ut,ae as dt,af as ba,ag as ka,ah as $a}from"./stepForm.49b9600b.js";const wa={name:"IconComponent"},Ct=Object.assign(wa,{props:{icon:{type:String,required:!0}},setup(y){return(g,_)=>(a(),i("span",{class:B(`am-icon-${y.icon}`)},null,2))}});const Ca={class:"am-cat__back-btn"},Sa={name:"MainHeader"},xt=Object.assign(Sa,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"}},emits:["click"],setup(y,{emit:g}){const _=y;let F=wt({components:{IconComponent:Ct},template:'<IconComponent icon="arrow-left"></IconComponent>'});function v(){g("click")}return(l,s)=>(a(),i("div",Ca,[W(Le,{prefix:e(F),category:"secondary",type:y.btnType,size:y.btnSize,onClick:v},{default:A(()=>[Se(n(e(_).btnString),1)]),_:1},8,["prefix","type","size"])]))}});const xa={class:"am-cat__sidemenu-item__wrapper"},Pa=["onClick"],Da={key:0,class:"am-cat__sidemenu-footer"},Ea={class:"am-cat__sidemenu-footer__text"},La=["href"],Ia={name:"SideMenu"},Ta=Object.assign(Ia,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(y,{emit:g}){const _=y;function F(s){g("click",s)}let v=P("amColors"),l=k(()=>({"--am-c-csm-text-op10":ee(v.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(v.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(v.value.colorSbText,.6),"--am-c-csm-text-op80":ee(v.value.colorSbText,.8)}));return(s,o)=>(a(),i("div",{class:"am-cat__sidemenu",style:ve(e(l))},[t("div",xa,[(a(!0),i(te,null,pe(y.menuItems,(h,u)=>(a(),i("div",{key:u,class:B(["am-cat__sidemenu-item",{"am-active":e(_).initSelection===h[e(_).identifier]}]),onClick:()=>F(h)},n(h[e(_).nameIdentifier]),11,Pa))),128))]),e(_).companyEmail?(a(),i("div",Da,[t("span",Ea,n(e(_).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(_).companyEmail}`},n(e(_).companyEmail),9,La)])):p("",!0)],4))}});const Ba={name:"MainContent"},Pt=Object.assign(Ba,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(y,{expose:g}){let _=b(null),F=b(0),v=b(null),l=b(0),s=b(null),o=b(0),h=b(null),u=b(null),M=b(0);window.addEventListener("resize",he);function he(){Ce(()=>{_.value&&(F.value=_.value.offsetWidth),v.value&&(l.value=v.value.offsetWidth),s.value&&(o.value=s.value.offsetWidth)})}Ee(()=>{Ce(()=>{if(s.value&&h.value){let m=s.value.offsetHeight-h.value.offsetHeight-2;M.value=m<=656?656:m}he()})}),g({catHeaderWidth:F,catFormWidth:o,catContainerWidth:l});let T=P("amColors"),z=k(()=>({"--am-h-cat-content":`${M.value}px`,"--am-c-scroll-op30":ee(T.value.colorPrimary,.3),"--am-c-scroll-op10":ee(T.value.colorPrimary,.1)}));return(m,x)=>(a(),i("div",{class:B(["am-cat__wrapper",y.wrapperClass])},[t("div",{ref_key:"catHeader",ref:_,class:"am-cat__header"},[lt(m.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:v,class:"am-cat__main"},[lt(m.$slots,"side"),t("div",{ref_key:"catForm",ref:s,class:B(["am-cat__form",y.formClass]),style:ve(e(z))},[t("div",{ref_key:"catHeading",ref:h,class:B(["am-cat__heading",y.headingClass])},[lt(m.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:u,class:B(["am-cat__content",y.contentClass])},[lt(m.$slots,"content")],2)],6)],512)],2))}}),Fa={name:"AmImagePlaceholder"},Ye=Object.assign(Fa,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(y){const g=y;function _(v){return v.pictureFullPath?{backgroundImage:`url(${v.pictureFullPath})`}:{backgroundColor:`${nt.value[Math.floor(Math.random()*nt.value.length)]}`}}function F(v){return v.pictureFullPath?"":("firstName"in v?`${v.firstName} ${v.lastName}`:v.name).split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,g.trimString).replace(/[^\w\s]/g,"")}return(v,l)=>(a(),i("span",{class:B(e(g).itemClass),style:ve(He({},_(e(g).itemData)))},n(F(e(g).itemData)),7))}}),$t=We(window.wpAmeliaSettings),Bt=We(window.wpAmeliaLabels),Me=We(window.ameliaShortcodeData?window.ameliaShortcodeData[0]:null);function mt(y,g,_=null,F=null){let v=[];return y&&y.serviceList.forEach(l=>{_?_ in g.entitiesRelations&&l.id in g.entitiesRelations[_]&&(F?g.entitiesRelations[_][l.id].find(s=>s===F):!0)&&l.status==="visible"&&l.show&&!v.filter(s=>s===l.id).length&&v.push(l.id):g.employees.forEach(s=>{s.id in g.entitiesRelations&&l.id in g.entitiesRelations[s.id]&&(F?g.entitiesRelations[s.id][l.id].find(o=>o===F):!0)&&l.status==="visible"&&l.show&&!v.filter(o=>o===l.id).length&&v.push(l.id)})}),v}function zt(y,g){let _=[],F=[];y.employees.forEach(s=>{if(s.id in y.entitiesRelations&&g in y.entitiesRelations[s.id]){let o=s.serviceList.find(h=>h.id===g);_.push(o.maxCapacity),F.push(o.minCapacity)}});let v=F.reduce((s,o)=>o<s?o:s,F[0]),l=_.reduce((s,o)=>o>s?o:s,_[0]);return v!==l?`${v}/${l}`:v}function At(y){let g=Math.floor(y/3600),_=y/60%60;return(g?g+Bt.h+" ":"")+" "+(_?_+Bt.min:"")}function Ze(y,g){let _=[];y.employees.forEach(l=>{if(l.id in y.entitiesRelations&&g in y.entitiesRelations[l.id]){let s=l.serviceList.find(o=>o.id===g);_.push(s.price)}});let F=_.reduce((l,s)=>s<l?s:l,_[0]),v=_.reduce((l,s)=>s>l?s:l,_[0]);return F!==v?{price:`${Ue(F,!$t.payments.hideCurrencySymbolFrontend)} - ${Ue(v,!$t.payments.hideCurrencySymbolFrontend)}`,min:F,max:v}:{price:Ue(F,$t.payments.hideCurrencySymbolFrontend),min:F,max:v}}function Pe(y,g){let _=[];return y.employees.forEach(F=>{F.id in y.entitiesRelations&&g in y.entitiesRelations[F.id]&&y.entitiesRelations[F.id][g].length&&y.locations.forEach(v=>{y.entitiesRelations[F.id][g].some(l=>l===v.id)&&!_.find(l=>l===v.id)&&_.push(v)})}),_}function Rt(y,g){let _=[],F=Object.keys(y.entitiesRelations);return g.bookable.forEach(v=>{let l=[];F.forEach(s=>{y.entitiesRelations[s][v.service.id]&&!l.find(o=>o?o.id===parseInt(s):!0)&&l.push(y.employees.find(o=>o.id===parseInt(s)))}),l.length||_.push(!1)}),_.filter(v=>v===!1).length}function Mt(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=b(Me&&Me.employee?y.unfilteredEmployees.filter(l=>l.id===parseInt(Me.employee)):y.unfilteredEmployees);return g.bookable.forEach(l=>{let s=[];l.providers.length?l.providers.forEach(o=>{l.locations.length?l.locations.forEach(h=>{v.value.find(u=>u.id===o.id)&&y.entitiesRelations[o.id][l.service.id]&&y.entitiesRelations[o.id][l.service.id].indexOf(h.id)!==-1&&!s.find(u=>u.id===o.id)&&s.push(v.value.find(u=>u.id===o.id))}):v.value.find(h=>h.id===o.id)&&!s.find(h=>h.id===o.id)&&s.push(v.value.find(h=>h.id===o.id))}):F.forEach(o=>{l.locations.length?l.locations.forEach(h=>{y.entitiesRelations[o][l.service.id]&&y.entitiesRelations[o][l.service.id].indexOf(h.id)!==-1&&v.value.find(u=>u.id===parseInt(o))&&!s.find(u=>u.id===parseInt(o))&&s.push(v.value.find(u=>u.id===parseInt(o)))}):y.entitiesRelations[o][l.service.id]&&v.value.find(h=>h.id===parseInt(o))&&!s.find(h=>h.id===parseInt(o))&&s.push(v.value.find(h=>h.id===parseInt(o)))}),_.push(!!s.length)}),!_.filter(l=>l===!1).length}function Ot(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=b(Me&&Me.employee?y.unfilteredEmployees.filter(l=>l.id===parseInt(Me.employee)):y.unfilteredEmployees);return g.bookable.forEach(l=>{l.providers.length?l.providers.forEach(s=>{l.locations.length?l.locations.forEach(o=>{v.value.find(h=>h.id===s.id)&&y.entitiesRelations[s.id][l.service.id].indexOf(o.id)!==-1&&!_.find(h=>h.id===s.id)&&_.push(v.value.find(h=>h.id===s.id))}):v.value.find(o=>o.id===s.id)&&!_.find(o=>o.id===s.id)&&_.push(v.value.find(o=>o.id===s.id))}):F.forEach(s=>{l.locations.length?l.locations.forEach(o=>{y.entitiesRelations[s][l.service.id]&&y.entitiesRelations[s][l.service.id].indexOf(o.id)!==-1&&v.value.find(h=>h.id===parseInt(s))&&!_.find(h=>h.id===parseInt(s))&&_.push(v.value.find(h=>h.id===parseInt(s)))}):y.entitiesRelations[s][l.service.id]&&v.value.find(o=>o.id===parseInt(s))&&!_.find(o=>o.id===parseInt(s))&&_.push(v.value.find(o=>o.id===parseInt(s)))})}),_}function Qe(y,g){let _=[],F=Object.keys(y.entitiesRelations),v=b(Me&&Me.location?y.unfilteredLocations.filter(l=>l.id===parseInt(Me.location)):y.unfilteredLocations);return g.bookable.forEach(l=>{l.locations.length?l.locations.forEach(s=>{v.value.find(o=>o.id===s.id)&&!_.find(o=>o.id===s.id)&&_.push(v.value.find(o=>o.id===s.id))}):F.forEach(s=>{v.value.forEach(o=>{s in y.entitiesRelations&&l.service.id in y.entitiesRelations[s]&&y.entitiesRelations[s][l.service.id].indexOf(o.id)!==-1&&v.value.find(h=>h.id===o.id)&&!_.find(h=>h.id===parseInt(o.id))&&_.push(v.value.find(h=>h.id===o.id))})})}),_}const za={class:"am-fcl__item-inner"},Aa={class:"am-fcl__item-heading"},Ra={class:"am-fcl__item-name"},Ma={class:"am-fcl__item-segments"},Oa={key:0,class:"am-fcl__item-segments__item"},Na=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),Va={class:"am-fcl__item-segments__item-count"},Ua={key:1,class:"am-fcl__item-segments__item"},Wa=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),ja={class:"am-fcl__item-segments__item-count"},Ha={class:"am-fcl__item-footer"},qa=["src"],Ja={class:"am-empty__heading"},Ga={class:"am-empty__subheading"},Qa={class:"am-empty__text"},Xa={key:0},Ya={href:"https://wpamelia.com/services-and-categories/"},Za={key:1},Ka={key:2,href:"https://wpamelia.com/employees/"},ei={name:"CategoriesList",key:"categoriesList"},ti=Object.assign(ei,{setup(y){const g=P("baseUrls");let _=b(null),F=b(0);window.addEventListener("resize",v);function v(){_.value&&(F.value=_.value.offsetWidth)}Ee(()=>{_.value&&(F.value=_.value.offsetWidth)});let l=k(()=>F.value<=500?"am-w100":F.value<=600?"am-w50":F.value<=768?"am-w33":""),{nextPage:s}=P("changingPageFunctions",{nextPage:()=>{}});const o=P("settings");let h=Ke();const u=P("shortcodeData");let M=P("amEntities"),he=P("customizedDataForm"),T=k(()=>he.value.categoriesList.options),z=P("availableCategories"),m=k(()=>{let se=[];return M.value.categories.forEach(Y=>{let Z=mt(Y,M.value);Y.packageList=[],M.value.packages.forEach(G=>{Z.forEach(j=>{G.bookable.filter(ue=>ue.service.id===j).length&&!Y.packageList.filter(ue=>ue===G.id).length&&G.available&&G.status==="visible"&&!Rt(M.value,G)&&Mt(M.value,G)&&Y.packageList.push(G.id)})}),Y.status==="visible"&&Y.serviceList.length&&!!Z.length&&(u.value.show==="packages"?!!Y.packageList.length:!0)&&se.push(Y)}),Ce(()=>{z.value=JSON.parse(JSON.stringify(se))}),se}),x=P("categorySelected");function f(se){x.value=se,h.commit("booking/setCategoryId",parseInt(se)),at(h,{},"SelectCategory","appointment",null,null),s()}let H=k(()=>m.value.length===0);const S=P("labels"),re=P("localLanguage");let ke=k(()=>o.general.usedLanguages.includes(re.value)),$=k(()=>{let se=We(He({},S));if(o.customizedData&&o.customizedData.cbf&&o.customizedData.cbf.categoriesList.translations){let Y=o.customizedData.cbf.categoriesList.translations;Object.keys(Y).forEach(Z=>{Y[Z][re.value]&&ke.value?se[Z]=Y[Z][re.value]:Y[Z].default&&(se[Z]=Y[Z].default)})}return se}),$e=P("amColors"),ae=k(()=>({"--am-c-fcl-card-text-op80":ee($e.value.colorCardText,.8)}));return(se,Y)=>e(H)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:_,class:"am-empty"},[t("img",{src:e(g).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,qa),t("div",Ja,n(e($).oops),1),t("div",Ga,n(e(u).show!=="packages"?e($).no_services_employees:e($).no_package_services),1),t("div",Qa,[e(u).show!=="packages"?(a(),i("span",Xa,n(e($).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",Ya,n(e($).add_services_url)+"\xA0 ",1),e(u).show!=="packages"?(a(),i("span",Za,n(e($).and)+"\xA0 ",1)):p("",!0),e(u).show!=="packages"?(a(),i("a",Ka,n(e($).add_employees_url),1)):p("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:_,class:"am-fcl",style:ve(e(ae))},[(a(!0),i(te,null,pe(e(m),Z=>(a(),i("div",{key:Z.id,class:B(["am-fcl__item",e(l)])},[t("div",za,[t("div",{class:"am-fcl__item-content",style:ve(e(T).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:e(nt)[Math.floor(Math.random()*e(nt).length)]}:{})},[t("div",Aa,[t("div",Ra,n(Z.name),1),t("div",Ma,[(!e(u).show||e(u).show==="services")&&e(T).services.visibility?(a(),i("div",Oa,[Na,t("span",Va,n(e(mt)(Z,e(M)).length),1)])):p("",!0),(!e(u).show||e(u).show==="packages")&&Z.packageList.length&&e(T).packages.visibility?(a(),i("div",Ua,[Wa,t("span",ja,n(Z.packageList.length),1)])):p("",!0)])]),t("div",Ha,[W(Le,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(T).cardButton.buttonType,suffix:e(Xt),onClick:G=>f(Z.id)},{default:A(()=>[Se(n(e($).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const ai={class:"am-fcil__filter-buttons"},ii={class:"am-fcil__filter"},si={class:"am-fcil__filter-item__btn-wrapper"},li={class:"am-fcil__heading"},ni={key:0,class:"am-fcil__item-badge__wrapper"},oi={class:"am-fcil__item-badge am-package"},ci=t("span",{class:"am-icon-shipment"},null,-1),ri={class:"am-fcil__item-heading"},ui={class:"am-fcil__item-name"},di={key:0,class:"am-fcil__item-cost"},mi={key:0,class:"am-fcil__item-discount"},pi={class:"am-fcil__item-price"},_i={class:"am-fcil__item-info"},vi={key:0,class:"am-fcil__item-info__inner"},fi=t("span",{class:"am-icon-folder"},null,-1),gi={key:1,class:"am-fcil__item-info__inner"},yi=t("span",{class:"am-icon-clock"},null,-1),hi={key:0},bi={key:1},ki={key:2},$i={key:2,class:"am-fcil__item-info__inner"},wi=t("span",{class:"am-icon-user"},null,-1),Ci=t("span",null,"1/1",-1),Si=[wi,Ci],xi={key:3,class:"am-fcil__item-info__inner"},Pi=t("span",{class:"am-icon-locations"},null,-1),Di={key:2,class:"am-fcil__item-services"},Ei={key:0,class:"am-fcil__item-badge__wrapper"},Li={class:"am-fcil__item-badge am-service"},Ii=t("span",{class:"am-icon-service"},null,-1),Ti={class:"am-fcil__item-heading"},Bi={class:"am-fcil__item-name"},Fi={key:0,class:"am-fcil__item-cost"},zi={key:0,class:"am-fcil__item-price"},Ai={class:"am-fcil__item-info"},Ri={key:0,class:"am-fcil__item-info__inner"},Mi=t("span",{class:"am-icon-folder"},null,-1),Oi={key:1,class:"am-fcil__item-info__inner"},Ni=t("span",{class:"am-icon-clock"},null,-1),Vi={key:2,class:"am-fcil__item-info__inner"},Ui=t("span",{class:"am-icon-user"},null,-1),Wi={key:3,class:"am-fcil__item-info__inner"},ji=t("span",{class:"am-icon-locations"},null,-1),Hi={class:"am-fcil-employee__header"},qi={class:"am-fcil-employee__heading"},Ji={class:"am-fcil-employee__heading-left"},Gi={class:"am-fcil-employee__name"},Qi={key:0,class:"am-fcil-employee__heading-right"},Xi={class:"am-fcil-employee__price"},Yi=["innerHTML"],Zi={key:1,ref:"ameliaContainer",class:"am-empty"},Ki=["src"],es={class:"am-empty__heading"},ts={class:"am-empty__subheading"},as={class:"am-empty__text"},is={key:0},ss={href:"https://wpamelia.com/services-and-categories/"},ls={key:1},ns={key:2,href:"https://wpamelia.com/employees/"},os={name:"CategoryItemsList",key:"categoryItemsList"},cs=Object.assign(os,{setup(y){let g=P("licence"),{nextPage:_,previousPage:F}=P("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const v=P("baseUrls");let l=b(!1),s=b(),o=P("containerWidth"),h=P("customizedDataForm"),u=k(()=>h.value.categoryItemsList.options),M=k(()=>{let N=s.value&&s.value.catContainerWidth?s.value.catContainerWidth>768:!0;return!z.value.category&&u.value.sidebar.visibility&&N});const he=P("settings");let T=Ke();const z=P("shortcodeData");let m=P("amEntities");const x=P("labels"),f=P("localLanguage");let H=k(()=>he.general.usedLanguages.includes(f.value)),S=k(()=>{let N=We(He({},x));if(he.customizedData&&he.customizedData.cbf&&he.customizedData.cbf.categoryItemsList.translations){let C=he.customizedData.cbf.categoryItemsList.translations;Object.keys(C).forEach(c=>{C[c][f.value]&&H.value?N[c]=C[c][f.value]:C[c].default&&(N[c]=C[c].default)})}return N}),re=b(""),ke=wt({components:{IconComponent:Ct},template:'<IconComponent icon="search"/>'}),$=b(!0),$e=wt({components:{IconComponent:Ct},template:'<IconComponent icon="filter"/>'}),ae=k(()=>s.value&&s.value.catHeaderWidth?s.value.catHeaderWidth:0);window.addEventListener("resize",se);function se(){Ce(()=>{ae.value>480&&($.value=!0)})}Ee(()=>{se()});function Y(N){let C=[];return re.value.toLowerCase().split(" ").forEach(c=>{C.push(N.toLowerCase().includes(c))}),C.filter(c=>c===!1).length<=0}let Z=P("availableCategories"),G=P("categorySelected"),j=k(()=>mt(m.value.categories.find(N=>N.id===G.value),m.value,xe.value,d.value)),ue=k(()=>{let N=[];return m.value.packages.forEach(C=>{j.value.forEach(c=>{C.bookable.filter(oe=>oe.service.id===c).length&&!N.filter(oe=>oe.id===C.id).length&&C.available&&C.status==="visible"&&!Rt(m.value,C)&&Mt(m.value,C)&&(re.value?Y(C.name):!0)&&N.push(C)})}),N}),be=k(()=>{let N=[];return m.value.services.forEach(C=>{j.value.forEach(c=>{C.id===c&&(re.value?Y(C.name):!0)&&N.push(C)})}),N}),xe=b(null),d=b(null),K=b(!0),ne=b(!0);function Te(N){N==="all"&&(K.value=!0,ne.value=!0),N==="packages"&&(K.value=!0,ne.value=!1),N==="services"&&(K.value=!1,ne.value=!0)}St(()=>{z.value.show&&Te(z.value.show)});let U=k(()=>{let N=z.value.employee,C=m.value.employees.length,c=z.value.location,oe=m.value.locations.length,De=u.value.searchInput.visibility,Ve=u.value.filterEmployee.visibility&&!N&&C>1&&!g.isLite,Ae=u.value.filterLocation.visibility&&!c&&oe>1&&!g.isLite,Be=u.value.filterButtons.visibility&&z.value.show!=="packages"&&z.value.show!=="services"&&ue.value.length!==0&&be.value.length!==0,ce={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ae.value>992?!De||!Be?(ce.employee=!De&&!Be?"am-w50":"am-w35",ce.location=!De&&!Be?"am-w50":"am-w35",ce.search=!Be&&!Ae&&!Ve?"am-w100":"am-w30",Ve||(ce.location=!De&&!Be?"am-w100":"am-w70"),Ae||(ce.employee=!De&&!Be?"am-w100":"am-w70")):(Ve||(ce.location="am-w40"),Ae||(ce.employee="am-w40"),!Ve&&!Ae&&(ce.search="am-w70")):ae.value>768||ae.value>480?(ce.search=Be?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ce.buttons=De?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ce.employee=Ae?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ce.location=Ve?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ce.category="am-w100 am-tablet am-order5"):(ce.employee="am-w100 am-mobile",ce.location="am-w100 am-mobile",ce.search="am-w100 am-mobile",ce.buttons="am-w100 am-mobile",ce.category="am-w100 am-mobile"),ce}),le=k(()=>s.value&&s.value.catContainerWidth?s.value.catContainerWidth:0),fe=k(()=>{let N=be.value.length>1?S.value.heading_services:S.value.heading_service,C=ue.value.length?ue.value.length>1?S.value.packages:S.value.package:"";if(!be.value.length&&!ue.value.length)return S.value.no_search_data;if(ne.value&&(!K.value||!ue.value.length))return`${S.value.available} - ${be.value.length} ${N}`;if((!ne.value||!be.value.length)&&K.value)return`${S.value.available} - ${ue.value.length} ${C}`;let c=ue.value.length?"/":"";return`${S.value.available} - ${be.value.length} ${N} ${c} ${ue.value.length} ${C}`});Ee(()=>{Ce(()=>{l.value=ue.value.length===0&&be.value.length===0})});function je(N){G.value=N.id,T.commit("booking/setCategoryId",parseInt(N.id))}let Oe=P("itemType");function q(N){T.commit("booking/setServiceId",parseInt(N)),T.commit("booking/setBookableType","appointment"),T.commit("booking/setSelectedExtras",[]),Oe.value="appointment",at(T,{},"SelectService","appointment",null,null),Ce(()=>{_()})}function O(N){T.commit("booking/setPackageId",N.id),T.commit("booking/setBookableType","package"),T.commit("booking/setMultipleAppointments",_t(0,N)),T.commit("booking/setMultipleAppointmentsIndex",0),Oe.value="package",at(T,{},"SelectPackage","package",null,null),Ce(()=>{_()})}function R(){G.value=null,T.commit("booking/setCategoryId",null),F()}let J=b(!1),ze=b(""),Ne=b([]),V=b({}),E=b(null);function w(){ze.value="",Ne.value=[],V.value={},E.value=null}function I(N){Ne.value=Ot(m.value,N),V.value=N,J.value=!0}function vt(N){let C=[];Object.keys(m.value.entitiesRelations).forEach(oe=>{oe in m.value.entitiesRelations&&N in m.value.entitiesRelations[oe]&&m.value.employees.find(De=>De.id===parseInt(oe))&&C.push(m.value.employees.find(De=>De.id===parseInt(oe)))}),Ne.value=C,ze.value="service",J.value=!0,E.value=N}function et(N){let C=m.value.services.find(oe=>oe.id===E.value).price,c=N.serviceList.find(oe=>oe.id===E.value).price;return c!==C?`${c-C>0?"+":"-"} ${Ue(c-C)}`:0}function ft(){ze.value==="service"?q(E.value):O(V.value),w()}function qe(N,C){let c="";return N>1?(C==="day"&&(c=S.value.expires_days),C==="week"&&(c=S.value.expires_weeks),C==="month"&&(c=S.value.expires_months)):(C==="day"&&(c=S.value.expires_day),C==="week"&&(c=S.value.expires_week),C==="month"&&(c=S.value.expires_month)),c}function st(N,C){return Pe(N,C).length===1?Pe(N,C)[0].address?Pe(N,C)[0].address:Pe(N,C)[0].name:S.value.multiple_locations}let gt=P("amFonts",b({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),_e=P("amColors"),yt=k(()=>({"--am-c-fcil-text-op-10":ee(_e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee(_e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee(_e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee(_e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee(_e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee(_e.value.colorInpText,.1),"--am-w-fcil-main":!z.value.category&&u.value.sidebar.visibility&&M.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":s.value&&s.value.catFormWidth<580?"100%":"50%"})),tt=k(()=>({"--am-f-fcil-employee-f":gt.value.fontFamily,"--am-c-fcil-employee-bgr":_e.value.colorMainBgr,"--am-c-fcil-employee-heading":_e.value.colorMainHeadingText,"--am-c-fcil-employee-text":_e.value.colorMainText,"--am-c-fcil-employee-text-op80":ee(_e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-employee-primary":_e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee(_e.value.colorPrimary,.1),"--am-c-inp-border":_e.value.colorInpBorder,"--am-c-main-text":_e.value.colorMainText}));return(N,C)=>e(l)?(a(),i("div",Zi,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ki),t("div",es,n(e(S).oops),1),t("div",ts,n(e(z).show!=="packages"?e(S).no_services_employees:e(S).no_package_services),1),t("div",as,[e(z).show!=="packages"?(a(),i("span",is,n(e(S).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",ss,n(e(S).add_services_url)+"\xA0 ",1),e(z).show!=="packages"?(a(),i("span",ls,n(e(S).and)+"\xA0 ",1)):p("",!0),e(z).show!=="packages"?(a(),i("a",ns,n(e(S).add_employees_url),1)):p("",!0)])],512)):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:s,"wrapper-class":`am-fcil ${e(o)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(o)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(o)<481?"am-mobile":""}`,style:ve(e(yt))},pt({header:A(()=>[t("span",ai,[e(z).category?p("",!0):(a(),ye(xt,{key:0,"btn-size":e(ae)<481?"medium":"mini","btn-string":e(S).back_btn,"btn-type":e(u).backBtn.buttonType,onClick:R},null,8,["btn-size","btn-string","btn-type"])),e(ae)<481?(a(),ye(Le,{key:1,size:"medium",category:"secondary",type:e(u).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e($e),onClick:C[0]||(C[0]=()=>me($)?$.value=!e($):$=!e($))},null,8,["type","icon"])):p("",!0)]),t("div",ii,[e(u).searchInput.visibility?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).search])},[W(Yt,{modelValue:e(re),"onUpdate:modelValue":C[1]||(C[1]=c=>me(re)?re.value=c:re=c),placeholder:e(S).filter_input,"icon-start":e(ke)},null,8,["modelValue","placeholder","icon-start"])],2)):p("",!0),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).employee&&e(m).employees.length>1&&e(u).filterEmployee.visibility&&e($)&&!e(g).isLite?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).employee])},[W(bt,{modelValue:e(xe),"onUpdate:modelValue":C[2]||(C[2]=c=>me(xe)?xe.value=c:xe=c),clearable:"",filterable:"",placeholder:e(S).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,pe(e(m).employees,c=>(a(),ye(kt,{key:c.id,value:c.id,label:`${c.firstName} ${c.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).location&&e(m).locations.length>1&&e(u).filterLocation.visibility&&e($)&&!e(g).isLite?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(U).location])},[W(bt,{modelValue:e(d),"onUpdate:modelValue":C[3]||(C[3]=c=>me(d)?d.value=c:d=c),clearable:"",filterable:"",placeholder:e(S).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,pe(e(m).locations,c=>(a(),ye(kt,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),W(Re,{name:"slide-fade"},{default:A(()=>[!e(z).category&&e(u).sidebar.visibility&&!e(M)&&e($)?(a(),i("div",{key:0,class:B(["am-fcil__filter-item am-w100",e(U).category])},[W(bt,{modelValue:e(G),"onUpdate:modelValue":C[4]||(C[4]=c=>me(G)?G.value=c:G=c),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,pe(e(Z),c=>(a(),ye(kt,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):p("",!0)]),_:1}),!e(z).show&&e(u).filterButtons.visibility&&e(ue).length!==0&&e(be).length!==0?(a(),i("div",{key:1,class:B(["am-fcil__filter-item",e(U).buttons])},[t("div",si,[t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(K)&&e(ne)}]),onClick:C[5]||(C[5]=c=>Te("all"))},[t("span",null,n(e(S).filter_all),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(K)&&!e(ne)}]),onClick:C[6]||(C[6]=c=>Te("packages"))},[t("span",null,n(e(S).filter_packages),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":!e(K)&&e(ne)}]),onClick:C[7]||(C[7]=c=>Te("services"))},[t("span",null,n(e(S).filter_services),1)],2)])],2)):p("",!0)])]),heading:A(()=>[t("div",li,n(e(fe)),1)]),content:A(()=>[e(K)?(a(!0),i(te,{key:0},pe(e(ue),c=>(a(),i("div",{key:c.id,class:B(["am-fcil__item",{"am-mobile":e(le)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[e(u).packageBadge.visibility?(a(),i("div",ni,[t("div",oi,[ci,t("span",null,n(e(S).package),1)])])):p("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):p("",!0),t("div",ri,[t("div",ui,n(c.name),1),e(u).packagePrice.visibility?(a(),i("div",di,[c.discount?(a(),i("span",mi,n(`${e(S).save} ${c.discount}%`),1)):p("",!0),t("span",pi,n(c.price?e(Ue)(c.calculatedPrice?c.price:c.price-c.price/100*c.discount):e(S).free),1)])):p("",!0)]),t("div",_i,[e(u).packageCategory.visibility?(a(),i("div",vi,[fi,t("span",null,n(e(Z).find(oe=>oe.id===e(G)).name),1)])):p("",!0),e(u).packageDuration.visibility?(a(),i("div",gi,[yi,c.endDate?(a(),i("span",hi,n(`${e(S).expires_at} ${c.endDate.split(" ")[0]}`),1)):c.durationCount?(a(),i("span",bi,n(`${e(S).expires_after} ${c.durationCount} ${qe(c.durationCount,c.durationType)}`),1)):(a(),i("span",ki,n(e(S).without_expiration),1))])):p("",!0),e(u).packageCapacity.visibility?(a(),i("div",$i,Si)):p("",!0),e(Qe)(e(m),c).length&&e(u).packageLocation.visibility?(a(),i("div",xi,[Pi,t("span",null,n(e(Qe)(e(m),c).length===1?e(Qe)(e(m),c)[0].address?e(Qe)(e(m),c)[0].address:e(Qe)(e(m),c)[0].name:e(S).multiple_locations),1)])):p("",!0)]),e(u).packageServices.visibility?(a(),i("div",Di,[t("span",null,n(`${e(S).in_package}:`),1),(a(!0),i(te,null,pe(c.bookable,oe=>(a(),i("span",{key:oe.id},n(oe.service.name),1))),128))])):p("",!0),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(u).cardEmployeeBtn.visibility?(a(),ye(Le,{key:0,class:B({"am-w100":e(le)<320}),size:"small",type:e(u).cardEmployeeBtn.buttonType,onClick:oe=>I(c)},{default:A(()=>[Se(n(e(S).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),W(Le,{class:B([{"am-w100":!e(u).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(u).cardContinueBtn.buttonType,onClick:oe=>O(c)},{default:A(()=>[Se(n(e(S).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),e(ne)?(a(!0),i(te,{key:1},pe(e(be),c=>(a(),i("div",{key:c.id,class:B(["am-fcil__item",{"am-mobile":e(le)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(le)<481}])},[e(u).serviceBadge.visibility?(a(),i("div",Ei,[t("div",Li,[Ii,t("span",null,n(e(S).heading_service),1)])])):p("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):p("",!0),t("div",Ti,[t("div",Bi,n(c.name),1),e(u).servicePrice.visibility?(a(),i("div",Fi,[e(Ze)(e(m),c.id).min||e(Ze)(e(m),c.id).max?(a(),i("span",zi,n(e(Ze)(e(m),c.id).price),1)):p("",!0)])):p("",!0)]),t("div",Ai,[e(u).serviceCategory.visibility?(a(),i("div",Ri,[Mi,t("span",null,n(e(Z).find(oe=>oe.id===e(G)).name),1)])):p("",!0),e(u).serviceDuration.visibility?(a(),i("div",Oi,[Ni,t("span",null,n(e(At)(c.duration)),1)])):p("",!0),e(u).serviceCapacity.visibility&&!e(g).isLite?(a(),i("div",Vi,[Ui,t("span",null,n(e(zt)(e(m),c.id)),1)])):p("",!0),e(Pe)(e(m),c.id).length&&e(u).serviceLocation.visibility?(a(),i("div",Wi,[ji,t("span",null,n(st(e(m),c.id)),1)])):p("",!0)]),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(le)<481},{"am-micro":e(le)<320}]])},[e(u).cardEmployeeBtn.visibility&&!e(g).isLite?(a(),ye(Le,{key:0,class:B({"am-w100":e(le)<320}),size:"small",type:e(u).cardEmployeeBtn.buttonType,onClick:oe=>vt(c.id)},{default:A(()=>[Se(n(e(S).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),W(Le,{class:B([{"am-w100":!e(u).cardEmployeeBtn.visibility},{"am-micro am-w100":e(le)<320}]),size:"small",type:e(u).cardContinueBtn.buttonType,onClick:oe=>q(c.id)},{default:A(()=>[Se(n(e(S).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),W(it,{modelValue:e(J),"onUpdate:modelValue":C[9]||(C[9]=c=>me(J)?J.value=c:J=c),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(tt),width:"648px",onClose:w},{title:A(()=>[t("div",Hi,n(e(S).employee_info),1)]),default:A(()=>[t("div",null,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,pe(e(Ne),(c,oe)=>(a(),ye(ct,{key:oe,side:""},{heading:A(()=>[t("div",qi,[t("div",Ji,[W(Ye,{"item-class":"am-fcil-employee__img","item-data":c,"trim-string":2},null,8,["item-data"]),t("div",Gi,n(`${c.firstName} ${c.lastName}`),1)]),e(ze)==="service"&&et(c)!==0?(a(),i("div",Qi,[t("div",Xi,n(et(c)),1)])):p("",!0)])]),default:A(()=>[c.description?(a(),i("div",{key:0,class:B(["am-fcil-employee__text",{"ql-description":c.description.includes("<!-- Content -->")}]),innerHTML:c.description},null,10,Yi)):p("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(u).dialogEmployeeBtn.visibility?(a(),ye(Le,{key:0,type:e(u).dialogEmployeeBtn.buttonType,category:"primary",onClick:C[8]||(C[8]=c=>ft())},{default:A(()=>[Se(n(e(ze)==="service"?e(S).book_service:e(S).book_package),1)]),_:1},8,["type"])):p("",!0)]),_:1},8,["modelValue","custom-styles"])]),_:2},[!e(z).category&&e(u).sidebar.visibility&&e(M)?{name:"side",fn:A(()=>[W(Ta,{"menu-items":e(Z),"init-selection":e(G),identifier:"id","name-identifier":"name","footer-string":e(S).get_in_touch,"company-email":e(he).company.email,onClick:je},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const rs=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),us=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),ds=["href"],ms={class:"am-fs-sb__step-wrapper"},ps={class:"am-fs-sb__step-inner"},_s={class:"am-fs-sb__step-icon"},vs={key:0,class:"am-icon-check"},fs={key:0},gs={key:1},ys={key:1},hs={key:0,class:"am-fs-sb__step"},bs={class:"am-fs-sb__step-inner"},ks={class:"am-fs-sb__step-icon"},$s={key:0,class:"am-icon-check"},ws={key:0,class:"am-fs-sb__support"},Cs=["href"],Ss={key:1,class:"am-icon-phone"},xs=["href"],Ps={key:1,class:"am-icon-email"},Ds={key:0,class:"am-fs-sb__menu-text"},Es={key:2,class:"am-no-services"},Ls=["src"],Is={href:"https://wpamelia.com/services-and-categories/"},Ts={style:{"font-size":"14px"}},Bs={href:"https://wpamelia.com/employees/"},Fs={name:"CategoryBooking"},Nt=Object.assign(Fs,{setup(y){let g=b(null),_=b();X("containerWidth",_);let F=b(!1);window.addEventListener("resize",v);function v(){g.value&&(_.value=g.value.offsetWidth)}Ee(()=>{Ce(()=>{g.value&&(_.value=g.value.offsetWidth)}),at(f,{containerWidth:_},"ContainerWidth","appointment",null,null)});const l=P("settings"),s=l.customizedData?l.customizedData.sbsNew:Xe.sbsNew;s&&X("amCustomize",s);let o=k(()=>{let r={heading:!0,phone:!0,email:!0};return"supportHeading"in s.sidebar.options&&(r.heading=s.sidebar.options.supportHeading.visibility),"companyPhone"in s.sidebar.options&&(r.phone=s.sidebar.options.companyPhone.visibility),"companyEmail"in s.sidebar.options&&(r.email=s.sidebar.options.companyEmail.visibility),r});const h=b(l.customizedData?l.customizedData.fonts:Xe.fonts);X("amFonts",h);let u=b(!1),M=b(""),he=P("bookingDialogWidth");rt(u,r=>{r?setTimeout(()=>{M.value="am-collapsed",setTimeout(()=>{he.value="592px"},200)},1e3):(M.value="",he.value="760px")}),Ee(()=>{s.sidebar.options.self.visibility||(he.value="520px")});let T=b(null),z=b(0);Ee(()=>{setTimeout(()=>{Ce(()=>{T.value&&setTimeout(()=>{z.value=T.value.offsetHeight},200)})},800)});let m=b(s.sidebar?s.sidebar.options.self.visibility:!0);const x=P("baseUrls"),f=Ke();let H=k(()=>({category:f.state.booking.appointment.categoryId?f.state.booking.appointment.categoryId:"",counter:f.state.entities.preselected.counter,employee:f.state.booking.appointment.providerId,hasApiCall:f.state.entities.preselected.hasApiCall,location:f.state.booking.appointment.locationId,service:f.state.booking.appointment.serviceId?f.state.booking.appointment.serviceId:"",package:f.state.booking.packageId,show:f.state.booking.appointment.type==="package"?"packages":"services",trigger:""}));f.commit("entities/setPreselected",H.value);let S=P("restoreFormData");const re=we(Zt),ke=we(Kt),$=we(ea),$e=we(ta),ae=we(aa),se=we(ia),Y=we(sa),Z=we(la),G=we(na),j=we(oa),ue=we(ca),be=we(ra),xe=we(ua),d=b([re,se,j,G]);X("stepsArray",d);const K=P("labels"),ne=P("localLanguage");let Te=k(()=>l.general.usedLanguages.includes(ne.value)),U=k(()=>{let r=We(He({},K));return l.customizedData&&Object.keys(l.customizedData.sbsNew).forEach(D=>{if(D!=="colors"&&l.customizedData.sbsNew[D].translations){let L=l.customizedData.sbsNew[D].translations;Object.keys(L).forEach(Q=>{L[Q][ne.value]&&Te.value?r[Q]=L[Q][ne.value]:L[Q].default&&(r[Q]=L[Q].default)})}}),r});X("amLabels",U);let le=k(()=>{let r={};if(l.customizedData){let D=l.customizedData.sbsNew[d.value[I.value].key]?l.customizedData.sbsNew[d.value[I.value].key].translations:null;l.customizedData&&D&&Object.keys(D).forEach(L=>{D[L][ne.value]&&Te.value?r[L]=D[L][ne.value]:D[L].default&&(r[L]=D[L].default)})}return Object.keys(r).length?r:K}),fe=k(()=>{let r="filled";return l.customizedData&&l.customizedData.sbsNew[d.value[I.value].key]&&(r=l.customizedData.sbsNew[d.value[I.value].key].options.primaryFooterButton.buttonType),r});X("primFooterBtnType",fe),X("primDescBtnType",fe);let je=k(()=>{let r="text";return l.customizedData&&l.customizedData.sbsNew[d.value[I.value].key]&&l.customizedData.sbsNew[d.value[I.value].key].options.secondaryFooterButton&&(r=l.customizedData.sbsNew[d.value[I.value].key].options.secondaryFooterButton.buttonType),r}),Oe=k(()=>da(f.getters["entities/getEmployeeServices"](f.getters["booking/getSelection"])));function q(){let r=f.getters["entities/getPreselected"];if(r.show==="packages")r.package&&(d.value.splice(0,1),ie.value.splice(0,1),J()),Fe();else{w();let D=f.getters["entities/filteredEmployees"](f.getters["booking/getSelection"]).length<=1,L=!s.initStep.options.employee.visibility,Q=f.getters["entities/filteredLocations"](f.getters["booking/getSelection"]).length<=1,de=!s.initStep.options.location.visibility;r.service&&(r.employee||D||L)&&(r.location||Q||de)&&(Oe.value.availability?(d.value.splice(0,1,xe),ie.value.splice(0,1)):(d.value.splice(0,1),ie.value.splice(0,1)),Fe())}}function O(r,D,L){r.value.map((de,Je)=>D.includes(de.name)?Je:null).filter(de=>de!==null).reverse().forEach(de=>{r.value.splice(de,1)}),L.forEach(de=>{r.value.indexOf(de)===-1&&(f.getters["entities/getPreselected"].show==="packages"&&f.getters["entities/getPreselected"].package?r.value.splice(I.value,0,de):r.value.splice(I.value+1,0,de))})}X("goToPackageStep",{goToPackageStep:R}),X("removePackageStep",{removePackageStep:ze});function R(r){f.commit("booking/setPackageId",r.id),f.commit("booking/setBookableType","package"),f.commit("booking/setMultipleAppointments",_t(0,r)),f.commit("booking/setMultipleAppointmentsIndex",0);let D=r.bookable.reduce((de,Je)=>de+Je.maximumScheduled,0),L=[],Q=[];d.value[0]!==ke&&L.push("ExtrasStep"),d.value[0]!==se&&L.push("DateTimeStep"),D>0?Q=Q.concat([Z,Y,$]):Q.push($),O(d,L,Q),O(ie,L,[]),Fe(),qe()}function J(){let D=f.state.entities.packages.find(de=>de.id===f.getters["booking/getPackageId"]).bookable.reduce((de,Je)=>de+Je.maximumScheduled,0),L=[],Q=[];d.value.find(de=>de.name==="ExtrasStep")&&L.push("ExtrasStep"),d.value.find(de=>de.name==="DateTimeStep")&&L.push("DateTimeStep"),D>0?Q=Q.concat([Z,Y,$]):Q.push($),O(d,L,Q),O(ie,L,[]),Fe(),qe()}function ze(){let r=[];d.value[0]!==se&&r.push(se),d.value[0]!==ke&&E.value&&E.value.length&&r.push(ke),O(d,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],r),O(ie,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[]),Fe()}X("goToRecurringStep",{goToRecurringStep:Ne}),X("removeRecurringStep",{removeRecurringStep:V});function Ne(){let r=0;for(let D=0;D<d.value.length;D++)if(d.value[D].name==="DateTimeStep"){r=D;break}d.value.splice(r+1,0,$e),d.value.splice(r+2,0,ae),Fe(),qe()}function V(){for(let r=0;r<d.value.length;r++)d.value[r].name==="RecurringStep"||d.value[r].name;for(let r=d.value.length-1;r>=0;r--)(d.value[r].name==="RecurringStep"||d.value[r].name==="RecurringSummary")&&d.value.splice(r+1,1);Fe()}let E=k(()=>{let r=f.getters["entities/getService"](f.getters["booking/getServiceId"]);return r?r.extras:[]});function w(){if(E.value.length&&!d.value.find(r=>r.name==="ExtrasStep")){let r=I.value;d.value.splice(r+1,0,ke),Fe()}ie.value.find(r=>r.name==="ExtrasStep")&&!Object.keys(E.value).length&&(d.value.splice(1,1),ie.value.splice(1,1))}X("initDataChanges",{changeInitStepDataService:w});const I=b(0);X("stepIndex",I);let vt=P("stepName",b(""));rt(I,(r,D)=>{r<ie.value.length&&(ie.value[D].selected=!1,ie.value[r].selected=!0),r===ie.value.length&&(ie.value[D].selected=!1),vt.value=d.value[r].name});let et=b(!1);X("goBackToPackageBooking",et);function ft(){Ae(!1),ce.value||(d.value[I.value].name===$.name&&(d.value.splice(I.value,1),ie.value.splice(I.value,1)),d.value[I.value].name===$e.name&&(d.value.splice(I.value,2),ie.value.splice(I.value,2)),d.value[I.value].name===Z.name&&(et.value=!0),I.value=I.value-1),C.value=!C.value}function qe(){ce.value||(ie.value[I.value].finished=!0,I.value=I.value+1)}let st=k(()=>f.getters["entities/getReady"]),gt=k(()=>f.getters["booking/getLoading"]),_e=k(()=>f.getters["booking/getBooked"]),yt=k(()=>f.getters["booking/getPaymentGateway"]),tt=b(!1),N=b(!1),C=b(!1);function c(){tt.value=!0}function oe(){tt.value=!1}function De(){C.value=!0}function Ve(){C.value=!1}function Ae(r){N.value=r}function Be(){_e.value&&(_e.value.customerCabinetUrl?window.location.href=_e.value.customerCabinetUrl:window.location.href=l.roles.customerCabinet.pageUrl)}X("secondButton",{secondButtonClick:Be});let ce=b(!1);X("changingStepsFunctions",{nextStep:qe,previousStep:ft,footerButtonClick:c,footerButtonReset:oe,footerBtnDisabledUpdater:Ae,headerButtonPreviousClick:De,headerButtonPreviousReset:Ve,footerBtnDisabled:N,footerButtonClicked:tt,headerButtonPreviousClicked:C,navigateInsideStep:ce});const ie=b([]);X("sidebarSteps",ie);function Dt(r){ie.value[I.value].stepSelectedData.filter(D=>D.reference===r.reference).length?ie.value[I.value].stepSelectedData.forEach((D,L,Q)=>{D.reference===r.reference&&r.value&&r.value!==D.value&&(D.value=r.value),D.reference===r.reference&&!r.value&&Q.splice(L,1)}):r.value&&ie.value[I.value].stepSelectedData.push(r),ie.value[I.value].stepSelectedData.sort((D,L)=>D.position-L.position)}function Vt(){d.value.forEach((r,D)=>{if(r.name!=="CongratulationsStep"){let L=r.sidebarData.label,Q={name:r.name,key:r.key,label:U.value[L],labelKey:L,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:D===I.value};ie.value.splice(D,0,Q)}})}St(()=>{Vt(),q()}),Ee(()=>{if(S.value){d.value.splice(0,d.value.length),ie.value.splice(0,ie.value.length),I.value=0,S.value.steps.forEach(D=>{switch(D){case"packageStep":d.value.push(be);break;case"bringingAnyone":d.value.push(xe);break;case"initStep":d.value.push(re);break;case"packageInfoStep":d.value.push($);break;case"packageAppointmentsStep":d.value.push(Y);break;case"packageAppointmentsListStep":d.value.push(Z);break;case"extrasStep":d.value.push(ke);break;case"dateTimeStep":d.value.push(se);break;case"recurringStep":d.value.push($e);break;case"recurringSummary":d.value.push(ae);break;case"infoStep":d.value.push(j);break;case"paymentStep":d.value.push(ue);break;case"congratulations":d.value.push(G);break}let L=S.value.sidebar.find(Q=>Q.key===D);Fe(),typeof L!="undefined"&&L.data&&L.data.forEach(Q=>{Dt({reference:Q.reference,position:Q.position,value:Q.value})}),I.value++}),f.commit("booking/setLoading",!1);let r=-1;S.value.result==="success"?r=d.value.length-1:(S.value.result==="error"||S.value.result==="canceled")&&(r=d.value.length-2);for(let D=0;D<=r;D++)d.value[D].finished=!0;for(let D=0;D<=r-1;D++)ie.value[D].finished=!0,ie.value[D].selected=!1;(S.value.result==="error"||S.value.result==="canceled")&&(ie.value[r].finished=!1,ie.value[r].selected=!0),I.value=r}});function Fe(){d.value.forEach((r,D)=>{if(r.name!=="CongratulationsStep"&&!ie.value.find(L=>L.labelKey===r.sidebarData.label)){let L=r.sidebarData.label,Q={name:r.name,key:r.key,label:U.value[L],labelKey:L,icon:r.sidebarData.icon,stepSelectedData:[],finished:!1,selected:D===I.value};ie.value.splice(D,0,Q)}})}X("sidebarStepsFunctions",{sidebarDataCollector:Dt}),X("addPaymentsStep",{addPaymentsStep:Et}),X("removePaymentsStep",{removePaymentsStep:Lt});function Et(){d.value.splice(d.value.length-1,0,ue),Fe()}function Lt(){let r=["PaymentStep"];O(d,r,[]),O(ie,r,[])}function Ut(){if(f.getters["entities/getPreselected"].show==="packages"){let D=f.getters["booking/getPackageId"]?[f.getters["entities/getPackage"](f.getters["booking/getPackageId"])]:f.getters["entities/getPackages"];return D.length>0&&D.filter(L=>L.price>0).length===D.length}if(!f.getters["booking/getPackageId"]){let D=f.getters["booking/getServiceId"]?[f.getters["entities/getService"](f.getters["booking/getServiceId"])]:f.getters["entities/getServices"],L=0;for(let Q of D){let de=f.getters["booking/getEmployeeId"]?f.getters["entities/getEmployee"](f.getters["booking/getEmployeeId"])?[f.getters["entities/getEmployee"](f.getters["booking/getEmployeeId"])]:[]:f.getters["entities/getEmployees"];if(de.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===Q.id&&(Ie.price>0||Ie.customPricing&&Ie.customPricing.enabled&&(Object.values(Ie.customPricing.durations).length===Object.values(Ie.customPricing.durations).filter(ht=>ht.price>0).length||f.getters["booking/getDuration"]&&Ie.customPricing.durations[f.getters["booking/getDuration"]].price>0)))).length===de.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===Q.id)).length)L++;else{let Ge=f.getters["booking/getSelectedExtras"].length?f.getters["booking/getSelectedExtras"]:[];Ge.length>0&&Ge.reduce((Ie,ht)=>Ie+ht.price,0)>0&&L++}}return D.length>0&&L===D.length}return f.getters["entities/getPackage"](f.getters["booking/getPackageId"]).price>0}let Wt=k(()=>Ut());ma(()=>{!S.value&&!Wt.value?Lt():S.value||d.value.indexOf(ue)===-1&&Et()},{flush:"post"});let ge=k(()=>l.customizedData?l.customizedData.sbsNew.colors:Xe.sbsNew.colors);X("amColors",ge);let jt=k(()=>({"--am-c-primary":ge.value.colorPrimary,"--am-c-success":ge.value.colorSuccess,"--am-c-error":ge.value.colorError,"--am-c-warning":ge.value.colorWarning,"--am-c-main-bgr":ge.value.colorMainBgr,"--am-c-main-heading-text":ge.value.colorMainHeadingText,"--am-c-main-text":ge.value.colorMainText,"--am-c-sb-bgr":ge.value.colorSbBgr,"--am-c-sb-text":ge.value.colorSbText,"--am-c-inp-bgr":ge.value.colorInpBgr,"--am-c-inp-border":ge.value.colorInpBorder,"--am-c-inp-text":ge.value.colorInpText,"--am-c-inp-placeholder":ge.value.colorInpPlaceHolder,"--am-c-drop-bgr":ge.value.colorDropBgr,"--am-c-drop-text":ge.value.colorDropText,"--am-c-btn-prim":ge.value.colorBtnPrim,"--am-c-btn-prim-text":ge.value.colorBtnPrimText,"--am-c-btn-sec":ge.value.colorBtnSec,"--am-c-btn-sec-text":ge.value.colorBtnSecText,"--am-c-skeleton-op20":ee(ge.value.colorMainText,.2),"--am-c-skeleton-op60":ee(ge.value.colorMainText,.6),"--am-font-family":h.value.fontFamily,"--am-mw-main":m.value?u.value?"592px":"760px":"520px","--am-brad-main":m.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function Ht(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let D=`@font-face {font-family: '${h.value.fontFamily}'; src: url(${h.value.fontUrl});}`,L=document.createElement("style");r.appendChild(L),L.setAttribute("type","text/css"),L.setAttribute("id","amCustomFont"),L.appendChild(document.createTextNode(D))}h.value.customFontSelected&&Ht();let qt=k(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",qt),Ee(()=>{pa("renderForm",{ameliaContainer:g,containerWidth:_,empty:F,amCustomize:s,amFonts:h,sidebarCollapsed:u,sidebarCollapseItemsClass:M,sidebarFooterRef:T,sidebarFooterHeight:z,sidebarVisibility:m})}),(r,D)=>(a(),i(te,null,[h.value.customFontSelected?p("",!0):(a(),i(te,{key:0},[rs,us,t("link",{rel:"stylesheet",type:"text/css",href:`${e(x).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,ds)],64)),e(F)?(a(),i("div",Es,[t("img",{src:e(x).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ls),t("h1",null,n(e(U).oops),1),t("h3",null,n(e(U).no_services_employees),1),t("p",null,n(e(U).add_services_employees),1),t("a",Is,n(e(U).add_services_url)+"\xA0 ",1),t("span",Ts,n(e(U).and)+"\xA0",1),t("a",Bs,n(e(U).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:B(["am-fs__wrapper",{"am-collapsed":e(u)}]),style:ve(e(jt))},[e(_)>560&&e(m)?(a(),ye(fa,{key:0,class:B(["am-fs-sb",{"am-collapsed":e(u)}]),style:ve({width:e(u)?"72px":"240px",paddingBottom:`${e(z)+16}px`})},{"step-list":A(()=>[t("div",ms,[d.value[I.value]!==e(G)||!e(l).general.addToCalendar||e(_e)&&e(_e).data.length===0?(a(!0),i(te,{key:0},pe(ie.value,L=>(a(),i("div",{key:L.key,class:"am-fs-sb__step"},[t("div",ps,[t("div",_s,[t("span",{class:B(`am-icon-${L.icon}`)},null,2)]),W(Re,{name:"fade"},{default:A(()=>[e(u)?p("",!0):(a(),i("p",{key:0,class:B(["am-fs-sb__step-heading",e(M)])},n(L.label),3))]),_:2},1024),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":L.selected},e(M)]])},[W(Re,{name:"fade"},{default:A(()=>[L.finished?(a(),i("span",vs)):p("",!0)]),_:2},1024)],2)]),W(_a,{tag:"span",name:"fade",appear:"",class:B(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":L.key===e(Y).key&&L.stepSelectedData.length>3}])},{default:A(()=>[e(u)?p("",!0):(a(!0),i(te,{key:0},pe(L.stepSelectedData,(Q,de)=>(a(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[L.key!==e(Y).key||de<3?(a(),i("span",fs,n(Q.value),1)):(a(),i("span",gs,n(e(U).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",ys,[W(Re,{name:"fade"},{default:A(()=>[e(u)?p("",!0):(a(),ye(va,{key:0}))]),_:1}),e(u)?(a(),i("div",hs,[t("div",bs,[t("div",ks,[t("span",{class:B(`am-icon-${d.value[I.value].sidebarData.icon}`)},null,2)]),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":d.value[I.value].sidebarData.selected},e(M)]])},[W(Re,{name:"fade"},{default:A(()=>[d.value[I.value].sidebarData.finished?(a(),i("span",$s)):p("",!0)]),_:1})],2)])])):p("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:T,class:"am-fs-sb__footer"},[(e(l).company.email||e(l).company.phone)&&(e(o).heading||e(o).phone||e(o).email)?(a(),i("div",ws,[W(Re,{name:"fade"},{default:A(()=>[!e(u)&&e(o).heading?(a(),i("div",{key:0,class:B(["am-fs-sb__support-heading",e(M)])},n(e(U).get_in_touch),3)):p("",!0)]),_:1}),e(l).company.phone&&e(o).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(l).company.phone}`},[e(u)?(a(),i("span",Ss)):(a(),i(te,{key:0},[Se(n(e(l).company.phone),1)],64))],8,Cs)):p("",!0),e(l).company.email&&e(o).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(l).company.email}`},[e(u)?(a(),i("span",Ps)):(a(),i(te,{key:0},[Se(n(e(l).company.email),1)],64))],8,xs)):p("",!0)])):p("",!0),t("div",{class:B(["am-fs-sb__menu",e(M)]),onClick:D[0]||(D[0]=L=>me(u)?u.value=!e(u):u=!e(u))},[W(Re,{name:"fade"},{default:A(()=>[e(u)?p("",!0):(a(),i("span",Ds,n(e(U).collapse_menu),1))]),_:1}),t("span",{class:B(`am-icon-arrow-circle-${e(u)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):p("",!0),W(ha,null,pt({step:A(()=>[(a(),ye(Ft(d.value[I.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[W(e(ya),{"second-button-show":d.value[I.value]===e(G)&&e(l).roles.customerCabinet.enabled&&e(l).roles.customerCabinet.pageUrl!==null,booked:e(_e),loading:e(gt),ready:e(st),"payment-gateway":e(yt),"customized-labels":e(le),"primary-footer-button-type":e(fe),"secondary-footer-button-type":e(je)},null,8,["second-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type"])]),_:2},[d.value[I.value]!==e(G)?{name:"header",fn:A(()=>[W(ga,{"sidebar-visible":e(m),ready:e(st)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const zs={class:"am-fcis__header-text"},As={class:"am-fcis__header-name"},Rs={key:0,class:"am-fcis__badge am-service"},Ms=t("span",{class:"am-icon-service"},null,-1),Os={class:"am-fcis__header-action"},Ns={key:0,class:"am-fcis__header-price"},Vs={class:"am-fcis__header-btn"},Us={key:0,class:"am-fcis__header-bottom"},Ws={class:"am-fcis__mini-info"},js={key:0,class:"am-fcis__mini-info__inner"},Hs=t("span",{class:"am-icon-folder"},null,-1),qs={key:1,class:"am-fcis__mini-info__inner"},Js=t("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcis__mini-info__inner"},Qs=t("span",{class:"am-icon-user"},null,-1),Xs={key:3,class:"am-fcis__mini-info__inner"},Ys=t("span",{class:"am-icon-locations"},null,-1),Zs={key:0,class:"am-fcis__gallery"},Ks={key:0,class:"am-fcis__gallery-thumb__wrapper"},el={class:"am-gd__display-wrapper"},tl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},al=["src","alt"],il={class:"am-gd__selection"},sl={class:"am-gd__thumb-wrapper"},ll=["onClick"],nl={key:1,class:"am-fcis__info"},ol={class:"am-fcis__info-tab__wrapper"},cl={class:"am-fcis__info-content__wrapper"},rl={key:0,class:"am-fcis__info-content"},ul=["innerHTML"],dl={key:1,class:"am-fcis__info-content"},ml={class:"am-fcis__info-employee__hero"},pl={class:"am-fcis__info-employee__heading"},_l={class:"am-fcis__info-employee__name"},vl={key:0,class:"am-fcis__info-employee__price"},fl=["innerHTML"],gl={key:2,class:"am-fcis__include-wrapper"},yl={class:"am-fcis__include-heading"},hl={class:"am-fcis__include-heading__text"},bl=["onClick"],kl={class:"am-fcis__include-hero"},$l={key:0,class:"am-fcis__include-cost"},wl={key:0,class:"am-fcis__include-discount"},Cl={class:"am-fcis__include-price"},Sl={class:"am-fcis__include-info"},xl={key:0,class:"am-fcis__include-info__inner"},Pl=t("span",{class:"am-icon-folder"},null,-1),Dl={key:1,class:"am-fcis__include-info__inner"},El=t("span",{class:"am-icon-clock"},null,-1),Ll={key:0},Il={key:1},Tl={key:2},Bl={key:2,class:"am-fcis__include-info__inner"},Fl=t("span",{class:"am-icon-user"},null,-1),zl=t("span",null,"1/1",-1),Al=[Fl,zl],Rl={key:3,class:"am-fcis__include-info__inner"},Ml=t("span",{class:"am-icon-locations"},null,-1),Ol={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Nl={key:1,ref:"ameliaContainer",class:"am-empty"},Vl=["src"],Ul={class:"am-empty__heading"},Wl={class:"am-empty__subheading"},jl={class:"am-empty__text"},Hl={key:0},ql={href:"https://wpamelia.com/services-and-categories/"},Jl={key:1},Gl={key:2,href:"https://wpamelia.com/employees/"},Ql={name:"CategoryService"},Xl=Object.assign(Ql,{setup(y){let g=P("licence"),{previousPage:_}=P("changingPageFunctions",{previousPage:()=>{}}),F=k(()=>m.getters["entities/getReady"]);const v=P("baseUrls");let l=b(),s=P("containerWidth");const o=P("settings");let h=P("amFonts");const u=P("labels"),M=P("localLanguage");let he=k(()=>o.general.usedLanguages.includes(M.value)),T=k(()=>{let V=We(He({},u));if(o.customizedData&&o.customizedData.cbf&&o.customizedData.cbf.categoryService.translations){let E=o.customizedData.cbf.categoryService.translations;Object.keys(E).forEach(w=>{E[w][M.value]&&he.value?V[w]=E[w][M.value]:E[w].default&&(V[w]=E[w].default)})}return V}),z=b(0),m=Ke(),x=P("amEntities"),f=P("customizedDataForm"),H=k(()=>f.value.categoryService.options),S=P("itemType"),re=P("categorySelected"),ke=k(()=>x.value.categories.find(V=>V.id===re.value)),$=k(()=>{let V=x.value.services.find(E=>E.id===m.getters["booking/getServiceId"]);return V||{}});function $e(V,E){return Pe(V,E).length===1?Pe(V,E)[0].address?Pe(V,E)[0].address:Pe(V,E)[0].name:T.value.multiple_locations}let ae=b("description"),se=k(()=>{let V=[];return Object.keys(x.value.entitiesRelations).forEach(w=>{x.value.entitiesRelations[w][$.value.id]&&x.value.employees.find(I=>I.id===parseInt(w))&&V.push(x.value.employees.find(I=>I.id===parseInt(w)))}),V});function Y(V){let E=V.serviceList.find(w=>w.id===$.value.id).price;return E-$.value.price!==0?`${E-$.value.price>0?"+":"-"} ${Ue(E-$.value.price)}`:""}Ee(()=>{H.value.serviceDescription.visibility||(ae.value="employees"),$.value.description||(ae.value="employees")});let Z=k(()=>{let V=$.value.gallery.length?JSON.parse(JSON.stringify($.value.gallery)):[];return $.value.gallery.length===1?[]:(V.shift(),V.length>2&&V.splice(2,V.length-2),V)}),G=k(()=>{let V=[];return x.value.packages.forEach(E=>{E.bookable.filter(w=>w.service.id===$.value.id).length&&!V.filter(w=>w.id===E.id).length&&E.available&&E.status==="visible"&&V.push(E)}),V}),j=b(!1),ue=k(()=>{let V=[...G.value];return j.value?V:V.slice(0,2)}),be=k(()=>m.getters["entities/filteredLocations"](m.getters["booking/getSelection"]));function xe(){S.value="",Ce(()=>{_()})}let d=b(!1),K=b("760px");X("bookingDialogWidth",K);function ne(){se.value.length===1&&m.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(x.value,$.value.id).length===1&&m.commit("booking/setLocationId",parseInt(Pe(x.value,$.value.id)[0].id)),m.commit("booking/setBookableType","appointment"),d.value=!0}P("restoreFormData").value&&ne();function U(V){m.commit("booking/setPackageId",V.id),m.commit("booking/setBookableType","package"),m.commit("booking/setMultipleAppointments",_t(0,V)),m.commit("booking/setMultipleAppointmentsIndex",0),se.value.length===1&&m.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(x.value,$.value.id).length===1&&m.commit("booking/setLocationId",parseInt(Pe(x.value,$.value.id)[0].id)),Ce(()=>{d.value=!0})}const le=P("shortcodeData");let fe=b("");X("stepName",fe);function je(){let V=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),E=V.settings?JSON.parse(V.settings):o;"general"in E&&"redirectUrlAfterAppointment"in E.general&&E.general.redirectUrlAfterAppointment?window.location.href=E.general.redirectUrlAfterAppointment:o.general.redirectUrlAfterAppointment?window.location.href=o.general.redirectUrlAfterAppointment:window.location.reload()}function Oe(){if(fe.value&&fe.value==="CongratulationsStep")je();else{let V=k(()=>({category:le.value.category,counter:le.value.counter,employee:le.value.employee,hasApiCall:le.value.hasApiCall,location:le.value.location,service:le.value.service,show:le.value.show,trigger:le.value.trigger}));m.commit("entities/setPreselected",V.value)}K.value="760px"}let q=b(!1);function O(V,E){let w="";return V>1?(E==="day"&&(w=T.value.expires_days),E==="week"&&(w=T.value.expires_weeks),E==="month"&&(w=T.value.expires_months)):(E==="day"&&(w=T.value.expires_day),E==="week"&&(w=T.value.expires_week),E==="month"&&(w=T.value.expires_month)),w}let R=k(()=>Object.keys($.value).length===0||se.value.length===0),J=P("amColors"),ze=k(()=>({"--am-c-fcis-success-op20":ee(J.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(J.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(J.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(J.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(J.value.colorBtnSec,.5)})),Ne=k(()=>({"--am-c-fcis-bgr":J.value.colorMainBgr,"--am-c-fcis-text":J.value.colorMainText,"--am-c-fcis-success":J.value.colorSuccess,"--am-c-fcis-primary":J.value.colorPrimary,"--am-c-scroll-op30":ee(J.value.colorPrimary,.3),"--am-c-scroll-op10":ee(J.value.colorPrimary,.1),"--am-font-family":h.fontFamily}));return(V,E)=>e(F)?(a(),i(te,{key:0},[e(R)?p("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:l,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:ve(e(ze))},pt({heading:A(()=>[t("div",{class:B([[{"am-tablet":e(s)<=678},{"am-mobile":e(s)<450}],"am-fcis__header-top"])},[t("div",zs,[t("span",As,n(e($).name),1),e(H).serviceBadge.visibility?(a(),i("div",Rs,[Ms,t("span",null,n(e(T).heading_service),1)])):p("",!0)]),t("div",Os,[e(H).servicePrice.visibility?(a(),i("span",Ns,n(e(Ze)(e(x),e($).id).min||e(Ze)(e(x),e($).id).max?e(Ze)(e(x),e($).id).price:e(T).free),1)):p("",!0),t("span",Vs,[W(Le,{type:e(H).bookingBtn.buttonType,onClick:ne},{default:A(()=>[Se(n(e(T).book_now),1)]),_:1},8,["type"])])])],2),e(H).serviceCategory.visibility||e(H).serviceDuration.visibility||e(H).serviceCapacity.visibility||e(H).serviceLocation.visibility?(a(),i("div",Us,[t("div",Ws,[e(H).serviceCategory.visibility?(a(),i("div",js,[Hs,t("span",null,n(e(ke).name),1)])):p("",!0),e(H).serviceDuration.visibility?(a(),i("div",qs,[Js,t("span",null,n(e(At)(e($).duration)),1)])):p("",!0),e(H).serviceCapacity.visibility&&!e(g).isLite?(a(),i("div",Gs,[Qs,t("span",null,n(e(zt)(e(x),e($).id)),1)])):p("",!0),e(Pe)(e(x),e($).id).length&&e(H).serviceLocation.visibility?(a(),i("div",Xs,[Ys,t("span",null,n($e(e(x),e($).id)),1)])):p("",!0)])])):p("",!0)]),content:A(()=>[e($).gallery.length?(a(),i("div",Zs,[t("div",{class:B(["am-fcis__gallery-hero",[{w100:e($).gallery.length===1},{"am-mobile w100":e(s)<678}]]),style:ve({backgroundImage:`url(${e($).gallery[0].pictureFullPath})`})},null,6),e(Z).length&&e(s)>677?(a(),i("div",Ks,[(a(!0),i(te,null,pe(e(Z),(w,I)=>(a(),i("div",{key:I,class:B(["am-fcis__gallery-thumb",{"am-one-thumb":e(Z).length===1}]),style:ve({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):p("",!0),W(Le,{"custom-class":`am-fcis__gallery-btn${e(s)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:E[0]||(E[0]=()=>me(q)?q.value=!0:q=!0)},{default:A(()=>[Se(n(e(T).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),W(it,{modelValue:e(q),"onUpdate:modelValue":E[4]||(E[4]=w=>me(q)?q.value=w:q=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Ne))},[t("div",el,[t("div",tl,[t("span",{class:"am-icon-arrow-left",onClick:E[1]||(E[1]=()=>me(z)?z.value=e(z)<=0?e($).gallery.length-1:e(z)-1:z=e(z)<=0?e($).gallery.length-1:e(z)-1)}),t("span",{class:"am-icon-arrow-right",onClick:E[2]||(E[2]=()=>me(z)?z.value=e($).gallery.length-1===e(z)?0:e(z)+1:z=e($).gallery.length-1===e(z)?0:e(z)+1)})]),(a(!0),i(te,null,pe(e($).gallery,(w,I)=>(a(),i("div",{key:I,class:"am-gd__display",style:ve({display:I===e(z)?"flex":"none"}),onClick:E[3]||(E[3]=()=>me(z)?z.value=e($).gallery.length-1===e(z)?0:e(z)+1:z=e($).gallery.length-1===e(z)?0:e(z)+1)},[t("img",{src:w.pictureFullPath,alt:I},null,8,al)],4))),128))]),t("div",il,n(`${e(z)+1}/${e($).gallery.length}`),1),t("div",sl,[(a(!0),i(te,null,pe(e($).gallery,(w,I)=>(a(),i("div",{key:I,class:B(["am-gd__thumb",{"am-active":I===e(z)}]),style:ve({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>me(z)?z.value=I:z=I},null,14,ll))),128))])],4)]),_:1},8,["modelValue"]),e(H).serviceDescription.visibility&&e($).description||e(H).serviceEmployees.visibility?(a(),i("div",nl,[t("div",ol,[e($).description&&e(H).serviceDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcis__info-tab",{"am-active":e(ae)==="description"}]),onClick:E[5]||(E[5]=()=>me(ae)?ae.value="description":ae="description")},n(e(T).about_service),3)):p("",!0),e(H).serviceEmployees.visibility&&!e(g).isLite?(a(),i("div",{key:1,class:B([{"am-active":e(ae)==="employees"},"am-fcis__info-tab"]),onClick:E[6]||(E[6]=()=>me(ae)?ae.value="employees":ae="employees")},n(e(T).tab_employees),3)):p("",!0)]),t("div",cl,[e($).description&&e(H).serviceDescription.visibility?ut((a(),i("div",rl,[t("div",{class:B(["am-fcis__info-service__desc",{"ql-description":e($).description.includes("<!-- Content -->")}]),innerHTML:e($).description},null,10,ul)],512)),[[dt,e(ae)==="description"]]):p("",!0),e(H).serviceEmployees.visibility?ut((a(),i("div",dl,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,pe(e(se),w=>(a(),ye(ct,{key:w.id,side:""},{heading:A(()=>[t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__info-employee"])},[t("div",ml,[W(Ye,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),t("div",pl,[t("div",_l,n(w.firstName)+" "+n(w.lastName),1),Y(w)&&e(H).serviceEmployeePrice.visibility?(a(),i("div",vl,n(Y(w)),1)):p("",!0)])])],2)]),default:A(()=>[w.description?(a(),i("div",{key:0,class:B(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,fl)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[dt,e(ae)==="employees"]]):p("",!0)])])):p("",!0),e(G).length&&e(le).show!=="services"&&e(H).servicePackages.visibility?(a(),i("div",gl,[t("div",yl,[t("span",hl,n(e(T).service_available_in_package),1),e(G).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:E[7]||(E[7]=()=>me(j)?j.value=!e(j):j=!e(j))},[e(j)?(a(),i(te,{key:1},[Se(n(e(T).less_packages),1)],64)):(a(),i(te,{key:0},[Se(n(e(T).more_packages),1)],64))])):p("",!0)]),(a(!0),i(te,null,pe(e(ue),w=>(a(),i("div",{key:w.id,class:"am-fcis__include",onClick:I=>U(w)},[t("div",kl,[e(s)>450?(a(),ye(Ye,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):p("",!0),t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__include-text"])},[t("div",{class:B(["am-fcis__include-header",{"am-mobile":e(s)<600}])},[t("div",{class:B(["am-fcis__include-name",{"am-mobile":e(s)<600}])},n(w.name),3),e(H).packagePrice.visibility?(a(),i("div",$l,[w.discount?(a(),i("span",wl,n(`${e(T).save} ${w.discount}%`),1)):p("",!0),t("span",Cl,n(w.price?e(Ue)(w.calculatedPrice?w.price:w.price-w.price/100*w.discount):e(T).free),1)])):p("",!0)],2),t("div",Sl,[e(H).packageCategory.visibility?(a(),i("div",xl,[Pl,t("span",null,n(e(ke).name),1)])):p("",!0),e(H).packageDuration.visibility?(a(),i("div",Dl,[El,w.endDate?(a(),i("span",Ll,n(`${e(T).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(a(),i("span",Il,n(`${e(T).expires_after} ${w.durationCount} ${O(w.durationCount,w.durationType)}`),1)):(a(),i("span",Tl,n(e(T).without_expiration),1))])):p("",!0),e(H).packageCapacity.visibility?(a(),i("div",Bl,Al)):p("",!0),e(H).packageLocation.visibility&&e(be).length?(a(),i("div",Rl,[Ml,t("span",null,n(e(be).length===1?e(be)[0].address?e(be)[0].address:e(be)[0].name:e(T).multiple_locations),1)])):p("",!0),e(H).packageServices.visibility?(a(),i("div",Ol,[t("span",null,n(`${e(T).in_package}:`),1),(a(!0),i(te,null,pe(w.bookable,I=>(a(),i("span",{key:I.id},n(I.service.name),1))),128))])):p("",!0)])],2)])],8,bl))),128))])):p("",!0),W(it,{modelValue:e(d),"onUpdate:modelValue":E[8]||(E[8]=w=>me(d)?d.value=w:d=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(K),onClosed:Oe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(le).service?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(T).back_btn,"btn-type":e(H).backBtn.buttonType,onClick:xe},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(R)?(a(),i("div",Nl,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Vl),t("div",Ul,n(e(T).oops),1),t("div",Wl,n(e(le).show!=="packages"?e(T).no_services_employees:e(T).no_package_services),1),t("div",jl,[e(le).show!=="packages"?(a(),i("span",Hl,n(e(T).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",ql,n(e(T).add_services_url)+"\xA0 ",1),e(le).show!=="packages"?(a(),i("span",Jl,n(e(T).and)+"\xA0 ",1)):p("",!0),e(le).show!=="packages"?(a(),i("a",Gl,n(e(T).add_employees_url),1)):p("",!0)])],512)):p("",!0)],64)):p("",!0)}});const Yl={class:"am-fcip__header-text"},Zl={class:"am-fcip__header-name"},Kl={key:0,class:"am-fcip__badge am-package"},en=t("span",{class:"am-icon-shipment"},null,-1),tn={class:"am-fcip__header-action"},an={key:0,class:"am-fcip__header-discount"},sn={key:1,class:"am-fcip__header-price"},ln={class:"am-fcip__header-btn"},nn={key:0,class:"am-fcip__header-bottom"},on={class:"am-fcip__mini-info"},cn={key:0,class:"am-fcip__mini-info__inner"},rn=t("span",{class:"am-icon-folder"},null,-1),un={key:1,class:"am-fcip__mini-info__inner"},dn=t("span",{class:"am-icon-clock"},null,-1),mn={key:0},pn={key:1},_n={key:2},vn={key:2,class:"am-fcip__mini-info__inner"},fn=t("span",{class:"am-icon-user"},null,-1),gn=t("span",null,"1/1",-1),yn=[fn,gn],hn={key:3,class:"am-fcip__mini-info__inner"},bn=t("span",{class:"am-icon-locations"},null,-1),kn={key:0,class:"am-fcip__gallery"},$n={key:0,class:"am-fcip__gallery-thumb__wrapper"},wn=t("span",{class:"am-icon-gallery"},null,-1),Cn={class:"am-gd__display-wrapper"},Sn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},xn=["src","alt"],Pn={class:"am-gd__selection"},Dn={class:"am-gd__thumb-wrapper"},En=["onClick"],Ln={key:1,class:"am-fcip__info"},In={class:"am-fcip__info-tab__wrapper"},Tn={class:"am-fcip__info-content__wrapper"},Bn={key:0,class:"am-fcip__info-content"},Fn=["innerHTML"],zn={key:1,class:"am-fcip__info-content"},An={class:"am-fcip__info-employee"},Rn={class:"am-fcip__info-employee__hero"},Mn={class:"am-fcip__info-employee__name"},On=["innerHTML"],Nn={key:2,class:"am-fcip__include-wrapper"},Vn={class:"am-fcip__include-heading"},Un={class:"am-fcip__include-heading__text"},Wn={class:"am-fcip__include-service"},jn={class:"am-fcip__include-service__info"},Hn={key:0},qn=["innerHTML"],Jn={class:"am-fcip__include-footer"},Gn={class:"am-fcip__include-footer__text"},Qn={key:1,ref:"ameliaContainer",class:"am-empty"},Xn=["src"],Yn={class:"am-empty__heading"},Zn={class:"am-empty__subheading"},Kn={class:"am-empty__text"},eo={href:"https://wpamelia.com/services-and-categories/"},to={name:"CategoryPackage"},ao=Object.assign(to,{setup(y){let{previousPage:g}=P("changingPageFunctions",{previousPage:()=>{}}),_=b(),F=P("containerWidth");const v=P("settings"),l=P("baseUrls");let s=Ke();const o=P("shortcodeData");let h=P("amEntities"),u=P("customizedDataForm"),M=k(()=>u.value.categoryPackage.options),he=P("itemType"),T=P("categorySelected"),z=k(()=>h.value.categories.find(q=>q.id===T.value)),m=k(()=>h.value.packages.find(q=>q.id===s.getters["booking/getPackageId"])),x=b(0),f=b("description"),H=k(()=>Ot(h.value,m.value)),S=k(()=>Qe(h.value,m.value)),re=b(o.value.employee?h.value.unfilteredEmployees.filter(q=>q.id===parseInt(o.value.employee)):h.value.unfilteredEmployees);function ke(q){let O=[];return q.providers.length?q.providers.forEach(R=>{re.value.find(J=>J.id===parseInt(R.id))&&O.push(re.value.find(J=>J.id===parseInt(R.id)))}):O=re.value.filter(R=>R.serviceList.find(J=>J.id===q.service.id)),O}Ee(()=>{M.value.packageDescription.visibility||(f.value="employees"),m.value.description||(f.value="employees")});let $=b(!1);St(()=>{$.value=s.getters["entities/getEmployees"].length===0||H.value.length===0});let $e=b(!1),ae=k(()=>{let q=m.value.gallery.length?JSON.parse(JSON.stringify(m.value.gallery)):[];return m.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)});function se(){he.value="",Ce(()=>{g()})}let Y=b(!1),Z=b("760px");X("bookingDialogWidth",Z);function G(){s.commit("booking/setMultipleAppointments",_t(0,m.value)),s.commit("booking/setMultipleAppointmentsIndex",0),s.commit("booking/setBookableType","package"),Ce(()=>{Y.value=!0})}P("restoreFormData").value&&G();let ue=b("");X("stepName",ue);function be(){let q=s.getters["entities/getBookableFromBookableEntities"](s.getters["booking/getSelection"]),O=q.settings?JSON.parse(q.settings):v;"general"in O&&"redirectUrlAfterAppointment"in O.general&&O.general.redirectUrlAfterAppointment?window.location.href=O.general.redirectUrlAfterAppointment:v.general.redirectUrlAfterAppointment?window.location.href=v.general.redirectUrlAfterAppointment:window.location.reload()}function xe(){if(ue.value&&ue.value==="CongratulationsStep")be();else{let q=k(()=>({category:o.value.category,counter:o.value.counter,employee:o.value.employee,hasApiCall:o.value.hasApiCall,location:o.value.location,service:o.value.service,show:o.value.show,trigger:o.value.trigger}));s.commit("entities/setPreselected",q.value)}Z.value="760px"}let d=P("amFonts");const K=P("labels"),ne=P("localLanguage");let Te=k(()=>v.general.usedLanguages.includes(ne.value)),U=k(()=>{let q=We(He({},K));if(v.customizedData&&v.customizedData.cbf&&v.customizedData.cbf.categoryPackage.translations){let O=v.customizedData.cbf.categoryPackage.translations;Object.keys(O).forEach(R=>{O[R][ne.value]&&Te.value?q[R]=O[R][ne.value]:O[R].default&&(q[R]=O[R].default)})}return q});function le(q,O){let R="";return q>1?(O==="day"&&(R=U.value.expires_days),O==="week"&&(R=U.value.expires_weeks),O==="month"&&(R=U.value.expires_months)):(O==="day"&&(R=U.value.expires_day),O==="week"&&(R=U.value.expires_week),O==="month"&&(R=U.value.expires_month)),R}let fe=P("amColors"),je=k(()=>({"--am-c-fcip-success-op20":ee(fe.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(fe.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(fe.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(fe.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(fe.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(fe.value.colorBtnSec,.5)})),Oe=k(()=>({"--am-c-fcip-bgr":fe.value.colorMainBgr,"--am-c-fcip-text":fe.value.colorMainText,"--am-c-fcip-success":fe.value.colorSuccess,"--am-c-fcip-primary":fe.value.colorPrimary,"--am-c-scroll-op30":ee(fe.value.colorPrimary,.3),"--am-c-scroll-op10":ee(fe.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(q,O)=>(a(),i(te,null,[e($)?p("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:_,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:ve(e(je))},pt({heading:A(()=>[t("div",{class:B([[{"am-tablet":e(F)<=678},{"am-mobile":e(F)<450}],"am-fcip__header-top"])},[t("div",Yl,[t("span",Zl,[t("span",null,n(e(m).name),1)]),e(M).packageBadge.visibility?(a(),i("div",Kl,[en,t("span",null,n(e(U).package),1)])):p("",!0)]),t("div",tn,[e(m).discount&&e(M).packagePrice.visibility?(a(),i("span",an,n(`${e(U).save} ${e(m).discount}%`),1)):p("",!0),e(M).packagePrice.visibility?(a(),i("span",sn,n(e(m).price?e(Ue)(e(m).calculatedPrice?e(m).price:e(m).price-e(m).price/100*e(m).discount):e(U).free),1)):p("",!0),t("span",ln,[W(Le,{type:e(M).bookingBtn.buttonType,onClick:G},{default:A(()=>[Se(n(e(U).book_now),1)]),_:1},8,["type"])])])],2),e(M).packageCategory.visibility&&!e(o).package||e(M).packageDuration.visibility||e(M).packageCapacity.visibility||e(M).packageLocation.visibility&&e(S).length?(a(),i("div",nn,[t("div",on,[!e(o).package&&e(M).packageBadge.visibility?(a(),i("div",cn,[rn,t("span",null,n(e(z).name),1)])):p("",!0),e(M).packageDuration.visibility?(a(),i("div",un,[dn,e(m).endDate?(a(),i("span",mn,n(`${e(U).expires_at} ${e(m).endDate.split(" ")[0]}`),1)):e(m).durationCount?(a(),i("span",pn,n(`${e(U).expires_after} ${e(m).durationCount} ${le(e(m).durationCount,e(m).durationType)}`),1)):(a(),i("span",_n,n(e(U).without_expiration),1))])):p("",!0),e(M).packageCapacity.visibility?(a(),i("div",vn,yn)):p("",!0),e(S).length&&e(M).packageLocation.visibility?(a(),i("div",hn,[bn,t("span",null,n(e(S).length===1?e(S)[0].address?e(S)[0].address:e(S)[0].name:e(U).multiple_locations),1)])):p("",!0)])])):p("",!0)]),content:A(()=>[e(m).gallery.length?(a(),i("div",kn,[t("div",{class:B(["am-fcip__gallery-hero",[{w100:e(m).gallery.length===1},{"am-mobile w100":e(F)<678}]]),style:ve({backgroundImage:`url(${e(m).gallery[0].pictureFullPath})`})},null,6),e(ae).length&&e(F)>677?(a(),i("div",$n,[(a(!0),i(te,null,pe(e(ae),(R,J)=>(a(),i("div",{key:J,class:B(["am-fcip__gallery-thumb",{"am-one-thumb":e(ae).length===1}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`})},null,6))),128))])):p("",!0),W(Le,{"custom-class":`am-fcip__gallery-btn${e(F)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:O[0]||(O[0]=()=>me($e)?$e.value=!0:$e=!0)},{default:A(()=>[wn,t("span",null,n(e(U).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),W(it,{modelValue:e($e),"onUpdate:modelValue":O[4]||(O[4]=R=>me($e)?$e.value=R:$e=R),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Oe))},[t("div",Cn,[t("div",Sn,[t("span",{class:"am-icon-arrow-left",onClick:O[1]||(O[1]=()=>me(x)?x.value=e(x)<=0?e(m).gallery.length-1:e(x)-1:x=e(x)<=0?e(m).gallery.length-1:e(x)-1)}),t("span",{class:"am-icon-arrow-right",onClick:O[2]||(O[2]=()=>me(x)?x.value=e(m).gallery.length-1===e(x)?0:e(x)+1:x=e(m).gallery.length-1===e(x)?0:e(x)+1)})]),(a(!0),i(te,null,pe(e(m).gallery,(R,J)=>(a(),i("div",{key:J,class:"am-gd__display",style:ve({display:J===e(x)?"flex":"none"}),onClick:O[3]||(O[3]=()=>me(x)?x.value=e(m).gallery.length-1===e(x)?0:e(x)+1:x=e(m).gallery.length-1===e(x)?0:e(x)+1)},[t("img",{src:R.pictureFullPath,alt:J},null,8,xn)],4))),128))]),t("div",Pn,n(`${e(x)+1}/${e(m).gallery.length}`),1),t("div",Dn,[(a(!0),i(te,null,pe(e(m).gallery,(R,J)=>(a(),i("div",{key:J,class:B(["am-gd__thumb",{"am-active":J===e(x)}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`}),onClick:()=>me(x)?x.value=J:x=J},null,14,En))),128))])],4)]),_:1},8,["modelValue"]),e(M).packageDescription.visibility&&e(m).description||e(M).packageEmployees.visibility?(a(),i("div",Ln,[t("div",In,[e(m).description&&e(M).packageDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcip__info-tab",{"am-active":e(f)==="description"}]),onClick:O[5]||(O[5]=()=>me(f)?f.value="description":f="description")},n(e(U).about_package),3)):p("",!0),e(M).packageEmployees.visibility?(a(),i("div",{key:1,class:B([{"am-active":e(f)==="employees"},"am-fcip__info-tab"]),onClick:O[6]||(O[6]=()=>me(f)?f.value="employees":f="employees")},n(e(U).tab_employees),3)):p("",!0)]),t("div",Tn,[e(m).description&&e(M).packageDescription.visibility?ut((a(),i("div",Bn,[t("div",{class:B(["am-fcip__info-service__desc",{"ql-description":e(m).description.includes("<!-- Content -->")}]),innerHTML:e(m).description},null,10,Fn)],512)),[[dt,e(f)==="description"]]):p("",!0),e(M).packageEmployees.visibility?ut((a(),i("div",zn,[W(ot,null,{default:A(()=>[(a(!0),i(te,null,pe(e(H),R=>(a(),ye(ct,{key:R.id,side:""},{heading:A(()=>[t("div",An,[t("div",Rn,[W(Ye,{"item-class":"am-fcip__info-employee__img","item-data":R,"trim-string":3},null,8,["item-data"]),t("div",Mn,n(R.firstName)+" "+n(R.lastName),1)])])]),default:A(()=>[R.description?(a(),i("div",{key:0,class:B(["am-fcip__info-employee__description",{"ql-description":R.description.includes("<!-- Content -->")}]),innerHTML:R.description},null,10,On)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[dt,e(f)==="employees"]]):p("",!0)])])):p("",!0),e(M).packageServices.visibility?(a(),i("div",Nn,[t("div",Vn,[t("span",Un,n(`${e(U).package_includes}:`),1)]),W(ot,null,{default:A(()=>[(a(!0),i(te,null,pe(e(m).bookable,R=>(a(),ye(ct,{key:R.id,side:!0},{heading:A(()=>[t("div",Wn,[W(Ye,{"item-class":"am-fcip__include-service__img","item-data":R.service},null,8,["item-data"]),Se(" "+n(R.service.name+(e(m).sharedCapacity?"":" x"+R.quantity)),1)])]),default:A(()=>[t("div",jn,[t("span",null,n(`${e(U).tab_employees}:`),1),(a(!0),i(te,null,pe(ke(R).slice(0,6),J=>(a(),ye(Ye,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),ke(R).length>6?(a(),i("span",Hn," + "+n(ke(R).length-6),1)):p("",!0),R.service.description?(a(),i("div",{key:1,class:B(["am-fcip__include-service__info-description",{"ql-description":R.service.description.includes("<!-- Content -->")}]),innerHTML:R.service.description},null,10,qn)):p("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Jn,[t("span",Gn,n(e(U).package_book_service),1)])])):p("",!0),W(it,{modelValue:e(Y),"onUpdate:modelValue":O[7]||(O[7]=R=>me(Y)?Y.value=R:Y=R),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Z),onClosed:xe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(o).package?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(U).back_btn,"btn-type":e(M).backBtn.buttonType,onClick:se},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e($)?(a(),i("div",Qn,[t("img",{src:e(l).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Xn),t("div",Yn,n(e(U).oops),1),t("div",Zn,n(e(U).no_package_services),1),t("div",Kn,[t("a",eo,n(e(U).add_services_url)+"\xA0 ",1)])],512)):p("",!0)],64))}});const io={name:"CatalogSkeleton"},so=Object.assign(io,{setup(y){let g=b(null),_=b(0);window.addEventListener("resize",F);function F(){g.value&&(_.value=g.value.offsetWidth)}Ee(()=>{g.value&&(_.value=g.value.offsetWidth)});let v=k(()=>_.value<=500?"am-w100":_.value<=600?"am-w50":_.value<=768?"am-w33":"");return(l,s)=>{const o=ka,h=ba;return a(),i("div",{ref_key:"amSkeletonContainer",ref:g,class:"am-skeleton-catalog__wrapper"},[W(h,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(te,null,pe(new Array(8),u=>(a(),i("div",{key:u,class:B(["am-skeleton-catalog__item",e(v)])},[W(o,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const lo=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),no=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),oo=["href"],co={name:"CatalogFormWrapper"},ro=Object.assign(co,{setup(y){let g=P("licence"),_=b(null);const F=P("baseUrls");let v=b(0);X("containerWidth",v),window.addEventListener("resize",l);function l(){_.value&&(v.value=_.value.offsetWidth)}Ee(()=>{document.getElementById("amelia-v2-booking-"+h.value.counter).classList.add("amelia-v2-booking-"+h.value.counter+"-loaded"),at(u,{},"ViewContent","appointment",null,null),l()});let s=b(!1);const o=P("settings"),h=P("shortcodeData"),u=Ke();u.commit("entities/setPreselected",h.value),u.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:g,loadEntities:window.ameliaShortcodeData.filter(d=>!d.hasApiCall).length===window.ameliaShortcodeData.length?!0:h.value.hasApiCall});let M=k(()=>u.state.entities);X("amEntities",M);const he=we(ti),T=we(cs),z=we(Xl),m=we(ao);let x=b([he,T]),f=b(0),H=b(null);X("categorySelected",H);let S=b([]);X("availableCategories",S);let re=b("");X("itemType",re),rt(re,()=>{re.value==="appointment"&&x.value.push(z),re.value==="package"&&x.value.push(m),re.value===""&&x.value.forEach((d,K)=>{d.name==="CategoryService"&&ke(x.value,K),d.name==="CategoryPackage"&&ke(x.value,K)})});function ke(d,K){d.splice(K,1)}function $(){f.value=f.value+1,_.value.scrollIntoView({behavior:"smooth",block:"start"})}function $e(){f.value=f.value-1}X("changingPageFunctions",{nextPage:$,previousPage:$e});let ae=k(()=>u.getters["entities/getReady"]);function se(){let d=u.getters["entities/getPreselected"];if(h.value.category&&(u.commit("booking/setCategoryId",parseInt(d.category)),H.value=parseInt(d.category),S.value=JSON.parse(JSON.stringify(M.value.categories.filter(K=>K.id===parseInt(d.category)&&K.status==="visible"&&K.serviceList.length&&!!mt(K,M.value).length))),Ce(()=>{let K=x.value.findIndex(ne=>ne.name==="CategoriesList");x.value.splice(K,1)})),h.value.service){u.commit("booking/setServiceId",parseInt(d.service));let K=u.getters["entities/getService"](parseInt(d.service));H.value=parseInt(d.category),u.commit("booking/setCategoryId",K?parseInt(K.categoryId):null),Ce(()=>{x.value=[],x.value.push(z)})}h.value.employee&&u.commit("booking/setEmployeeId",parseInt(d.employee)),h.value.location&&u.commit("booking/setLocationId",parseInt(d.location)),h.value.package&&(u.commit("booking/setPackageId",parseInt(d.package)),x.value=[],x.value.push(m)),h.value.show==="packages"?u.commit("booking/setBookableType","package"):u.commit("booking/setBookableType","appointment")}let Y=k(()=>ae.value?$a(u,h.value):null);X("restoreFormData",Y),rt(ae,d=>{d&&(se(),s.value=u.getters["entities/getServices"].length===0||u.getters["entities/getEmployees"].length===0,Y.value&&(re.value=u.state.booking.appointment.type,Ce(()=>{f.value=x.value.length-1,H.value=u.state.booking.appointment.categoryId})))});let Z=k(()=>o.customizedData&&"cbf"in o.customizedData?o.customizedData.cbf:Xe.cbf);X("customizedDataForm",Z);const G=b(o.customizedData?o.customizedData.fonts:Xe.fonts);X("amFonts",G);let j=k(()=>o.customizedData&&"cbf"in o.customizedData?o.customizedData.cbf.colors:Xe.cbf.colors);X("amColors",j);let ue=k(()=>({"--am-c-primary":j.value.colorPrimary,"--am-c-success":j.value.colorSuccess,"--am-c-error":j.value.colorError,"--am-c-warning":j.value.colorWarning,"--am-c-main-bgr":j.value.colorMainBgr,"--am-c-main-heading-text":j.value.colorMainHeadingText,"--am-c-main-text":j.value.colorMainText,"--am-c-sb-bgr":j.value.colorSbBgr,"--am-c-sb-text":j.value.colorSbText,"--am-c-inp-bgr":j.value.colorInpBgr,"--am-c-inp-border":j.value.colorInpBorder,"--am-c-inp-text":j.value.colorInpText,"--am-c-inp-placeholder":j.value.colorInpPlaceHolder,"--am-c-drop-bgr":j.value.colorDropBgr,"--am-c-drop-text":j.value.colorDropText,"--am-c-card-bgr":j.value.colorCardBgr,"--am-c-card-text":j.value.colorCardText,"--am-c-card-border":j.value.colorCardBorder,"--am-c-btn-prim":j.value.colorBtnPrim,"--am-c-btn-prim-text":j.value.colorBtnPrimText,"--am-c-btn-sec":j.value.colorBtnSec,"--am-c-btn-sec-text":j.value.colorBtnSecText,"--am-c-skeleton-op20":ee(j.value.colorMainText,.2),"--am-c-skeleton-op60":ee(j.value.colorMainText,.6),"--am-font-family":G.value.fontFamily}));function be(){let d=document.head||document.getElementsByTagName("head")[0];d.querySelector("#amCustomFont")&&d.querySelector("#amCustomFont").remove();let K=`@font-face {font-family: '${G.value.fontFamily}'; src: url(${G.value.fontUrl});}`,ne=document.createElement("style");d.appendChild(ne),ne.setAttribute("type","text/css"),ne.setAttribute("id","amCustomFont"),ne.appendChild(document.createTextNode(K))}G.value.customFontSelected&&be();let xe=k(()=>({colorInputBorderRadius:"6px"}));return X("amDesignProperties",xe),(d,K)=>(a(),i(te,null,[G.value.customFontSelected?p("",!0):(a(),i(te,{key:0},[lo,no,t("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,oo)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:_,class:"am-fc__wrapper",style:ve(e(ue))},[e(ae)&&e(x).length?(a(),ye(Ft(e(x)[e(f)]),{key:0})):(a(),ye(so,{key:1}))],4)],64))}});var po=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"}));export{po as C,Ct as _,Ta as a,xt as b,Ye as c,Pt as d};
